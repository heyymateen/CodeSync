/* ============================= */
/* Reset & Base Styles */
/* ============================= */
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: 'Roboto', sans-serif;
  background: #212528;
  color: #333;
  user-select: none; 
}

/* ============================= */
/* Notifications */
/* ============================= */
.notifications {
  position: fixed;
  top: 20px;
  right: 20px;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  z-index: 9999;
}
.notification {
  background-color: #e74c3c;
  color: white;
  padding: 0.75rem 1rem;
  border-radius: 6px;
  font-size: 0.9rem;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  animation: fadeInOut 3s ease forwards;
}
.notification.success { background-color: #39e079; }
@keyframes fadeInOut {
  0% { opacity: 0; transform: translateY(-20px); }
  10% { opacity: 1; transform: translateY(0); }
  90% { opacity: 1; transform: translateY(0); }
  100% { opacity: 0; transform: translateY(-20px); }
}

/* ============================= */
/* Join Container */
/* ============================= */
.join-container {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100vh;
}
.join-content {
  display: flex;
  width: 100%;
  height: 100vh;
  justify-content: space-between;
}
/* Left Column */
.left-column { flex: 1; display: flex; align-items: center; justify-content: flex-start; padding-left: 50px; }
.floating-computer { animation: float 3s ease-in-out infinite; }
.floating-computer img { width: 600px; height: 600px; pointer-events: none; user-select: none; }
@keyframes float { 0%,100%{transform:translateY(0px);}50%{transform:translateY(-20px);} }

/* Right Column */
.right-column { flex:1; display:flex; align-items:center; justify-content:flex-end; padding-right:50px; }
.join-form { width:500px; min-height:440px; text-align:center; display:flex; flex-direction:column; gap:1.25rem; opacity:0; animation:slideInRight 0.8s ease-out forwards; }
.logo-container { animation:slideInRight 0.8s ease-out 0.2s forwards; opacity:0; }
.logo-container img { width:436px; height:128px; display:block; margin:0 auto; background-color:#212528; pointer-events:none; user-select:none; }
.form-fields { display:flex; flex-direction:column; gap:1rem; opacity:0; animation:slideInRight 0.8s ease-out 0.4s forwards; }
.form-fields input { width:100%; padding:1rem; border:1px solid rgba(255,255,255,0.2); border-radius:8px; font-size:1rem; background-color: rgba(255,255,255,0.1); color:white; transition: all 0.3s ease; opacity:0; animation:slideInRight 0.8s ease-out forwards; }
.form-fields input::placeholder { color: rgba(255,255,255,0.6); }
.form-fields input:focus { outline:none; border-color:#39e079; background-color: rgba(255,255,255,0.15); }
.join-button { width:100%; padding:1rem; background-color:#39e079; color:white; border:none; border-radius:8px; font-size:1rem; font-weight:600; cursor:pointer; transition: all 0.3s ease; opacity:0; animation:slideInRight 0.8s ease-out 0.6s forwards; }
.join-button:hover { background-color:#2dcc6f; transform:translateY(-2px); box-shadow:0 4px 12px rgba(57,224,121,0.3); }
.generate-button { width:100%; padding:0.75rem; background-color:transparent; color:white; border:none; font-size:0.9rem; cursor:pointer; text-decoration:underline; transition: color 0.3s ease; opacity:0; animation:slideInRight 0.8s ease-out 0.8s forwards; }
.generate-button:hover { color:#39e079; }
@keyframes slideInRight { 0%{opacity:0;transform:translateX(50px);}100%{opacity:1;transform:translateX(0);} }

/* ============================= */
/* Editor Container */
.editor-container { 
  display: flex; 
  height: 100vh; 
  position: relative; 
  overflow: hidden; /* Prevent any potential scrollbars */
}
/* Sidebar */
.sidebar { 
  width: 50px; 
  min-width: 50px; 
  background-color: #2c3e50; 
  display: flex; 
  flex-direction: column; 
  justify-content: space-between; 
  align-items: center; 
  padding: 1rem 0; 
  position: relative; 
  z-index: 20;
}
.sidebar-top { 
  display: flex; 
  flex-direction: column; 
  gap: 1.5rem; 
}
.sidebar-bottom-icons { 
  display: flex; 
  flex-direction: column; 
  gap: 1rem; 
  margin-bottom: 1rem; 
}
.sidebar .icon { 
  width: 36px; 
  height: 36px; 
  display: flex; 
  align-items: center; 
  justify-content: center; 
  cursor: pointer; 
  border-radius: 8px; 
  transition: transform 0.2s ease, background-color 0.2s ease; 
}
.sidebar .icon:hover { 
  background-color: rgba(255,255,255,0.1); 
  transform: translateY(-2px); 
}
.sidebar .icon img, .sidebar .icon svg { 
  width: 20px; 
  height: 20px; 
  object-fit: contain; 
  display: block; 
}

/* Sidebar View */
.sidebar-view { 
  width: 300px; 
  background-color: #34495e; 
  padding: 1rem; 
  color: white; 
  display: flex; 
  flex-direction: column; 
  gap: 1rem; 
  position: fixed; 
  top: 0; 
  left: 50px; /* Match the sidebar width */
  bottom: 0; 
  z-index: 10; 
  transform: translateX(-100%); 
  transition: transform 0.3s ease; 
  overflow-y: auto;
  border-left: 1px solid rgba(255,255,255,0.1);
  box-shadow: 2px 0 5px rgba(0,0,0,0.1);
}
.sidebar-view.active { 
  transform: translateX(0); 
}
.sidebar-view h3 { 
  margin-bottom: 0.5rem; 
}
.sidebar-view ul { list-style:none; padding:0; }
.user-list { list-style:none; padding:0; margin:0; }
.user-item { display:flex; align-items:center; gap:0.5rem; padding:0.5rem; margin-bottom:5px; border-radius:5px; background-color:#2c3e50; }
.user-avatar { width:24px; height:24px; border-radius:50%; }

/* Editor Wrapper */
.editor-wrapper { 
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 50px; /* Start from sidebar width */
  transition: left 0.3s ease;
  height: 100vh;
}
.editor-wrapper.shifted { 
  left: 350px; /* sidebar (50px) + sidebar-view (300px) */
}

/* Consoles */
.sidebar-view select, .sidebar-view textarea { width:100%; border-radius:4px; padding:0.5rem; font-family:monospace; font-size:0.9rem; margin-bottom:0.5rem; }
.input-console { height:80px; }
.output-console { height:120px; background-color:#f8f9fa; color:#000; resize:none; }
.run-btn { padding:0.5rem; background-color:#39e079; border:none; border-radius:4px; cursor:pointer; width:100%; margin-bottom:0.5rem; }

/* ============================= */
/* Live Cursor styles */
/* Uses CSS variable --cursor-color (set dynamically) */
:root { --cursor-color: #39e079; }

.live-cursor {
  border-left: 2px solid var(--cursor-color) !important;
}

.live-cursor-label {
  background: var(--cursor-color);
  color: #000;
  font-size: 0.7rem;
  padding: 1px 4px;
  border-radius: 3px;
  margin-left: 2px;
  box-shadow: 0 1px 2px rgba(0,0,0,0.25);
  user-select: none;
}

/* ============================= */
/* Responsive */
@media(max-width:1024px){
  .floating-computer img{width:400px;height:400px;}
  .logo-container img{width:300px;height:auto;}
  .join-form{width:400px;}
  
  /* Sidebar adjustments */
  .sidebar{width:45px;min-width:45px;}
  .sidebar .icon{width:32px;height:32px;}
  .sidebar .icon img,.sidebar .icon svg{width:18px;height:18px;}
  
  /* Sidebar view adjustments */
  .sidebar-view{
    width:250px;
    left:45px;
  }
  
  /* Editor wrapper adjustments */
  .editor-wrapper{
    left:45px;
  }
  .editor-wrapper.shifted{
    left:295px; /* 45px + 250px */
  }
}

@media(max-width:768px){
  .join-content{flex-direction:column;justify-content:center;align-items:center;text-align:center;}
  .left-column{display:none;}
  .right-column{padding:0;justify-content:center;}
  .join-form{width:90%;max-width:400px;}
  
  /* Sidebar adjustments */
  .sidebar{width:40px;min-width:40px;}
  .sidebar .icon{width:30px;height:30px;}
  .sidebar .icon img,.sidebar .icon svg{width:16px;height:16px;}
  
  /* Sidebar view adjustments */
  .sidebar-view{
    width:220px;
    left:40px;
  }
  
  /* Editor wrapper adjustments */
  .editor-wrapper{
    left:40px;
  }
  .editor-wrapper.shifted{
    left:260px; /* 40px + 220px */
  }
}

@media(max-width:480px){
  .join-form{width:95%;}
  .form-fields input,.join-button,.generate-button{font-size:0.9rem;padding:0.8rem;}
  
  /* Mobile optimizations */
  .sidebar{width:35px;min-width:35px;}
  .sidebar .icon{width:28px;height:28px;}
  .sidebar .icon img,.sidebar .icon svg{width:14px;height:14px;}
  
  /* Sidebar view takes full width on mobile */
  .sidebar-view{
    width:calc(100% - 35px);
    left:35px;
  }
  
  /* Editor wrapper adjustments */
  .editor-wrapper{
    left:35px;
  }
  .editor-wrapper.shifted{
    left:35px; /* Keep editor under sidebar-view on mobile */
    opacity:0.3; /* Dim the editor when sidebar is open */
    pointer-events:none; /* Prevent interaction with editor when sidebar is open */
  }
  
  /* Adjust editor font size for mobile */
  .monaco-editor {
    font-size: 14px !important;
  }
}

/* Handle very small screens */
@media(max-width:360px){
  .sidebar{width:32px;min-width:32px;}
  .sidebar .icon{width:26px;height:26px;}
  .sidebar .icon img,.sidebar .icon svg{width:13px;height:13px;}
  
  .sidebar-view{
    left:32px;
    width:calc(100% - 32px);
  }
  
  .editor-wrapper{
    left:32px;
  }
  .editor-wrapper.shifted{
    left:32px;
  }
}
